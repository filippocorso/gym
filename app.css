:root{
  --bg:#0d0d0d;
  --card:#1e1e1e;
  --muted:#999;
  --accent:#0a84ff;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  padding:0;
  font-family:Arial,Helvetica,sans-serif;
  background:var(--bg);
  color:#fff;
  -webkit-font-smoothing:antialiased;
  -webkit-touch-callout:none;
  -webkit-user-select:none;
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px;
  background:#111;
  border-bottom:1px solid rgba(255,255,255,0.03);
}
header h1{margin:0;font-size:18px;letter-spacing:0.6px}
.header-controls{display:flex;gap:8px}

main{padding:12px; padding-bottom:80px; transition:opacity .18s ease;}

.btn{
  background:linear-gradient(135deg,var(--accent),#0066cc);
  border:none;
  padding:10px 12px;
  border-radius:12px;
  color:#fff;
  font-size:15px;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(10,132,255,0.08);
  transition:transform .12s ease, box-shadow .12s ease;
}
.btn:active{transform:scale(.98)}
.btn.alt{background:#444}

ul.list{list-style:none;padding:0;margin:0}
li.card{
  background:var(--card);
  border-radius:12px;
  margin:8px 0;
  padding:12px;
  position:relative;
  overflow:visible;
  transition:transform .18s ease, box-shadow .18s ease;
  box-shadow:0 6px 18px rgba(0,0,0,0.35);
}
li.card:active{transform:translateY(1px)}

.nomeEsercizio{font-weight:700;font-size:15px;margin-bottom:8px;text-align:left}
.recuperoEsercizio{color:var(--muted);font-size:13px;margin-bottom:8px;text-align:left}

/* serie layout: checkbox all'inizio, peso/reps sotto */
.serie{
  display:flex;
  gap:10px;
  align-items:flex-start;
  flex-direction:column;
  padding:6px 0;
  border-top:1px dashed rgba(255,255,255,0.02);
}
.serie-row{display:flex;align-items:center;gap:10px}
.serie-row input[type="number"]{width:80px;padding:6px;border-radius:8px;border:none;background:#0f0f0f;color:#fff}
.serie-row .chk{width:22px;height:22px}

.controls-row{display:flex;gap:8px;margin-top:8px;flex-wrap:wrap}

/* swipe delete */
.swipe-wrap{
  position:relative;
  overflow:hidden;
}
.swipe-content{
  transform:translateX(0);
  transition:transform .18s ease;
}
.delete-surface{
  position:absolute;
  right:8px;
  top:8px;
  bottom:8px;
  width:84px;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  opacity:0;
  transition:opacity .18s ease;
}
.show-delete .delete-surface{pointer-events:auto;opacity:1}

/* visual feedback */
.countdown{margin-top:6px;color:var(--accent);font-weight:700}

/* popup */
.popup{
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%) scale(.98);
  background:#151515;
  padding:18px;
  border-radius:14px;
  width:90%;
  max-width:420px;
  box-shadow:0 20px 40px rgba(0,0,0,0.6);
  transition:transform .14s ease, opacity .14s ease;
}
.popup.hidden{display:none}
.popup input{width:100%;padding:10px;border-radius:10px;border:none;margin-bottom:10px;background:#0f0f0f;color:#fff}
.popup-actions{display:flex;gap:8px;justify-content:flex-end}

/* animations */
.fade-in{animation:fadeIn .18s ease both}
@keyframes fadeIn{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}

/* responsive tweaks */
@media (max-width:420px){
  .serie-row input[type="number"]{width:65px}
  .delete-surface{width:68px}
}
